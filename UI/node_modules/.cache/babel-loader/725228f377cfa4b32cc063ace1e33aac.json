{"ast":null,"code":"import _defineProperty from \"/home/rakshithjk/Desktop/react/pictureperfect/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/rakshithjk/Desktop/react/pictureperfect/src/modules/movie-browser/movie-browser.container.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { AppBar, TextField, RaisedButton } from 'material-ui';\nimport * as movieActions from './movie-browser.actions';\nimport * as movieHelpers from './movie-browser.helpers';\nimport MovieList from './movie-list/movie-list.component';\nimport * as scrollHelpers from '../common/scroll.helpers';\nimport MovieModal from './movie-modal/movie-modal.container';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Search from './movie-search/movie-search.container';\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\nimport './movie-browser.container.css';\nimport MovieDisplay from './movie-display/movie-display.container';\n\nclass MovieBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      currentMovies: [],\n      sortState: 0\n    }; // Binds the handleScroll to this class (MovieBrowser)\n    // which provides access to MovieBrowser's props\n    // Note: You don't have to do this if you call a method\n    // directly from a lifecycle method\n\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.onscroll = this.handleScroll;\n    this.props.getTopMovies(this.state.currentPage, this.state.sortState);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleDropdownChange(e) {\n    if (e.target.value == \"id_asc\") {\n      this.id_asc();\n    }\n\n    if (e.target.value == \"rd_asc\") {\n      this.rd_asc();\n    }\n\n    if (e.target.value == \"tt_asc\") {\n      this.tt_asc();\n    }\n  }\n\n  handleScroll() {\n    //console.log(this);\n    //console.log(this.state);\n    //console.log(this.props);\n    //console.log(this.props.topMovies);\n    //console.log(this.props.topMovies.response)\n    //const {topMovies} = this.props;                                            \n    if (!this.props.topMovies.isLoading) {\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\n\n      if (percentageScrolled > .8) {\n        const nextPage = this.state.currentPage + 1;\n        this.props.getTopMovies(nextPage, this.state.sortState);\n        this.setState({\n          currentPage: nextPage\n        });\n      }\n    }\n  }\n\n  async id_asc() {\n    //alert(\"clicked\");\n    await this.setState({\n      sortState: 1\n    });\n    this.setState({\n      currentPage: 1\n    });\n    console.log(\"whats happening\", this.props.topMovies.response); //setState({results:[]})\n    //alert(this.state.sortState);\n\n    this.props.getTopMovies(this.state.currentPage, this.state.sortState);\n  }\n\n  async rd_asc() {\n    //alert(\"clicked\");\n    await this.setState({\n      sortState: 2\n    });\n    this.setState({\n      currentPage: 1\n    });\n    console.log(\"whats happening\", this.props.topMovies.response); //setState({results:[]})\n    //alert(this.state.sortState);\n\n    this.props.getTopMovies(this.state.currentPage, this.state.sortState);\n  }\n\n  async tt_asc() {\n    //alert(\"clicked\");\n    await this.setState({\n      sortState: 3\n    });\n    this.setState({\n      currentPage: 1\n    });\n    console.log(\"whats happening\", this.props.topMovies.response); //setState({results:[]})\n    //alert(this.state.sortState);\n\n    this.props.getTopMovies(this.state.currentPage, this.state.sortState);\n  }\n\n  render() {\n    console.log(this);\n    console.log(this.state);\n    console.log(this.props);\n    console.log(this.props.topMovies);\n    console.log(\"res\", this.props.topMovies.response); //const {topMovies} = this.props;   \n\n    const topMovies = this.props.topMovies;\n    const movies = movieHelpers.getMoviesList(this.props.topMovies.response);\n    console.log(\"movies\".movies);\n\n    const Home = () => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Welcome to Picture Perfect Website!\"));\n\n    return React.createElement(\"div\", {\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      title: \"Movie Browser\",\n      style: {\n        backgroundColor: \"#e91e63\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(RaisedButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Home\")), React.createElement(Link, {\n      to: \"/search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(RaisedButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Search\")), React.createElement(Link, {\n      to: \"/movie-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(RaisedButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Movie-List\"))), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(Search, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/movie-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"listing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \" Filters\"), React.createElement(\"select\", {\n      className: \"select-style\",\n      onChange: this.handleDropdownChange,\n      name: \"Filters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      value: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \" -- Select a filter -- \"), React.createElement(\"option\", {\n      value: \"id_asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Sort by Id ascending\"), React.createElement(\"option\", {\n      value: \"rd_asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Sort by Release Date ascending\"), React.createElement(\"option\", {\n      value: \"tt_asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Sort by Title\"))), React.createElement(Container, {\n      id: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Row, {\n      id: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(MovieList, {\n      movies: movies,\n      isLoading: topMovies.isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }))))), React.createElement(Route, {\n      path: \"/moviedescription/:movieid\",\n      component: MovieDisplay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default connect( // Map nodes in our state to a properties of our component\nstate => ({\n  topMovies: state.movieBrowser.topMovies\n}), // Map action creators to properties of our component\n_objectSpread({}, movieActions))(MovieBrowser);","map":{"version":3,"sources":["/home/rakshithjk/Desktop/react/pictureperfect/src/modules/movie-browser/movie-browser.container.js"],"names":["React","connect","Container","Row","Col","AppBar","TextField","RaisedButton","movieActions","movieHelpers","MovieList","scrollHelpers","MovieModal","BrowserRouter","Router","Switch","Route","Link","Search","MovieDisplay","MovieBrowser","Component","constructor","props","state","currentPage","currentMovies","sortState","handleScroll","bind","handleDropdownChange","componentDidMount","window","onscroll","getTopMovies","componentWillUnmount","removeEventListener","e","target","value","id_asc","rd_asc","tt_asc","topMovies","isLoading","percentageScrolled","getPercentageScrolledDown","nextPage","setState","console","log","response","render","movies","getMoviesList","Home","backgroundColor","movieBrowser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {AppBar, TextField, RaisedButton} from 'material-ui';\nimport * as movieActions from './movie-browser.actions';\nimport * as movieHelpers from './movie-browser.helpers';\nimport MovieList from './movie-list/movie-list.component';\nimport * as scrollHelpers from '../common/scroll.helpers';\nimport MovieModal from './movie-modal/movie-modal.container';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport Search from './movie-search/movie-search.container';\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\nimport './movie-browser.container.css';\nimport MovieDisplay from './movie-display/movie-display.container'\nclass MovieBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      currentMovies: [],\n      sortState: 0\n    };\n    // Binds the handleScroll to this class (MovieBrowser)\n    // which provides access to MovieBrowser's props\n    // Note: You don't have to do this if you call a method\n    // directly from a lifecycle method\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.onscroll = this.handleScroll;\n    this.props.getTopMovies(this.state.currentPage,this.state.sortState);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n  handleDropdownChange(e) {\n    \n    if(e.target.value == \"id_asc\"){\n      this.id_asc();\n    }\n    if(e.target.value == \"rd_asc\"){\n      this.rd_asc();\n    }\n\n    if(e.target.value == \"tt_asc\"){\n      this.tt_asc();\n    }\n  }\n\n  handleScroll() {\n    //console.log(this);\n    //console.log(this.state);\n    //console.log(this.props);\n    //console.log(this.props.topMovies);\n    //console.log(this.props.topMovies.response)\n    //const {topMovies} = this.props;                                            \n    if (!this.props.topMovies.isLoading) {\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\n      if (percentageScrolled > .8) {\n        const nextPage = this.state.currentPage + 1;\n        this.props.getTopMovies(nextPage,this.state.sortState);\n        this.setState({currentPage: nextPage});\n      }\n    }\n  }\n\n  async id_asc() {\n    //alert(\"clicked\");\n    await this.setState({sortState: 1});\n    this.setState({currentPage: 1});\n    console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n    this.props.getTopMovies(this.state.currentPage,this.state.sortState)\n  }\n\n\n  async rd_asc() {\n    //alert(\"clicked\");\n    await this.setState({sortState: 2});\n    this.setState({currentPage: 1});\n    console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n    this.props.getTopMovies(this.state.currentPage,this.state.sortState)\n  }\n  \n  async tt_asc() {\n    //alert(\"clicked\");\n    await this.setState({sortState: 3});\n    this.setState({currentPage: 1});\n    console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n    this.props.getTopMovies(this.state.currentPage,this.state.sortState)\n  }\n\n  render() {\n    console.log(this);\n    console.log(this.state);\n    console.log(this.props);\n    console.log(this.props.topMovies);\n    console.log(\"res\",this.props.topMovies.response)\n    //const {topMovies} = this.props;   \n    const {topMovies} = this.props;\n    const movies = movieHelpers.getMoviesList(this.props.topMovies.response);\n    console.log(\"movies\".movies);\n    \n    const Home = () => (\n      <div>\n        <h1>Welcome to Picture Perfect Website!</h1>\n      </div>\n    )\n    \n\n\n    return (\n      <div id=\"main\">\n        \n      \n\n    \n      <Router>\n        \n      <AppBar title='Movie Browser' style={{backgroundColor: \"#e91e63\"}} >\n      <Link to=\"/\">\n          <RaisedButton >\n            Home\n          </RaisedButton >\n          </Link>\n\n        <Link to=\"/search\">\n          <RaisedButton >\n            Search\n          </RaisedButton >\n          </Link>\n          <Link to=\"/movie-list\">\n            <RaisedButton > \n            Movie-List\n            </RaisedButton>\n          </Link>\n      </AppBar>\n      \n          <Switch>\n          <Route exact path='/' component={Home}/>\n            <Route path=\"/search\">\n              <Search />\n            </Route>\n            <Route path=\"/movie-list\" >  \n              <div id=\"listing\">\n              <div className=\"filters\">\n                <h3 className=\"text\"> Filters</h3>\n                <select className=\"select-style\" onChange={this.handleDropdownChange} name=\"Filters\">\n                <option disabled selected value> -- Select a filter -- </option>\n                  <option value=\"id_asc\">Sort by Id ascending</option>\n                  <option value=\"rd_asc\">Sort by Release Date ascending</option>\n                  <option value=\"tt_asc\">Sort by Title</option>\n                </select>\n              </div>\n              <Container id=\"container\"  >\n                <Row id=\"row\">\n                  <MovieList movies={movies} isLoading={topMovies.isLoading}  />\n                </Row>\n              </Container>\n              </div>\n            </Route>\n            <Route path='/moviedescription/:movieid' component={MovieDisplay}/>\n          </Switch>\n        \n        \n    \n    </Router>\n    \n    </div>\n    );\n  }\n\n}\n\nexport default connect(\n  // Map nodes in our state to a properties of our component\n  (state) => ({\n    topMovies: state.movieBrowser.topMovies\n    \n  }),\n  // Map action creators to properties of our component\n  { ...movieActions }\n)(MovieBrowser);"]},"metadata":{},"sourceType":"module"}
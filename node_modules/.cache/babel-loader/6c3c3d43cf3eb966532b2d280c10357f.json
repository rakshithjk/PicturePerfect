{"ast":null,"code":"import _defineProperty from \"/home/rakshithjk/Desktop/react/pictureperfect/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { combineReducers } from 'redux';\nimport { createReducer, createAsyncReducer } from '../common/redux.helpers';\nimport { keys as movieActionKeys } from './movie-browser.actions';\nimport movieModalReducer from './movie-modal/movie-modal.reducer'; // This will create a new state with both the existing \n// movies and new pages of movies\n\nconst moviesSuccessReducer = (state, action) => {\n  const existingMovies = state.response ? state.response.results : [];\n  const sortStatus = state.response ? state.response.Sort : []; // Create a new state object to be returned\n  // When creating the new state, be sure to include any\n  // existing properties we want to persist\n\n  console.log(\"this is resducer\", sortStatus);\n\n  if (sortStatus == action.response.Sort) {\n    return _objectSpread({}, state, {\n      isLoading: false,\n      response: _objectSpread({}, action.response, {\n        results: [...existingMovies, ...action.response.results]\n      })\n    });\n  } else {\n    return _objectSpread({}, state, {\n      isLoading: false,\n      response: _objectSpread({}, action.response, {\n        results: [...action.response.results]\n      })\n    });\n  }\n};\n\nconst reviewsSuccessReducer = (state, action) => {\n  // Create a new state object to be returned\n  // When creating the new state, be sure to include any\n  // existing properties we want to persist\n  return _objectSpread({}, state, {\n    isLoading: false,\n    response: _objectSpread({}, action.response, {\n      results: [...action.response.results]\n    })\n  });\n}; // Combines our movie browser related reducers to build our movieBrowser reducer\n\n\nconst movieBrowserReducer = combineReducers({\n  movieModal: movieModalReducer,\n  topMovies: createAsyncReducer(movieActionKeys.GET_TOP_MOVIES, {\n    [\"\".concat(movieActionKeys.GET_TOP_MOVIES, \"_SUCCESS\")]: moviesSuccessReducer\n  }),\n  movieSearch: createAsyncReducer(movieActionKeys.SEARCH_MOVIES, {\n    [\"\".concat(movieActionKeys.SEARCH_MOVIES, \"_SUCCESS\")]: moviesSuccessReducer\n  }),\n  movieDetails: createAsyncReducer(movieActionKeys.GET_MOVIE_DETAILS),\n  topReviews: createAsyncReducer(movieActionKeys.GET_MOVIE_REVIEWS, {\n    [\"\".concat(movieActionKeys.GET_MOVIE_REVIEWS, \"_SUCCESS\")]: reviewsSuccessReducer\n  })\n});\nexport default movieBrowserReducer;","map":{"version":3,"sources":["/home/rakshithjk/Desktop/react/pictureperfect/src/modules/movie-browser/movie-browser.reducers.js"],"names":["combineReducers","createReducer","createAsyncReducer","keys","movieActionKeys","movieModalReducer","moviesSuccessReducer","state","action","existingMovies","response","results","sortStatus","Sort","console","log","isLoading","reviewsSuccessReducer","movieBrowserReducer","movieModal","topMovies","GET_TOP_MOVIES","movieSearch","SEARCH_MOVIES","movieDetails","GET_MOVIE_DETAILS","topReviews","GET_MOVIE_REVIEWS"],"mappings":";;;;;;AAAA,SAAQA,eAAR,QAA8B,OAA9B;AACA,SAASC,aAAT,EAAwBC,kBAAxB,QAAkD,yBAAlD;AACA,SAASC,IAAI,IAAIC,eAAjB,QAAwC,yBAAxC;AACA,OAAOC,iBAAP,MAA8B,mCAA9B,C,CAEA;AACA;;AACA,MAAMC,oBAAoB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC9C,QAAMC,cAAc,GAAGF,KAAK,CAACG,QAAN,GAAiBH,KAAK,CAACG,QAAN,CAAeC,OAAhC,GAA0C,EAAjE;AACA,QAAMC,UAAU,GAAGL,KAAK,CAACG,QAAN,GAAiBH,KAAK,CAACG,QAAN,CAAeG,IAAhC,GAAuC,EAA1D,CAF8C,CAG9C;AACA;AACA;;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BH,UAA/B;;AACA,MAAGA,UAAU,IAAIJ,MAAM,CAACE,QAAP,CAAgBG,IAAjC,EAAsC;AACpC,6BACKN,KADL;AAEES,MAAAA,SAAS,EAAE,KAFb;AAGEN,MAAAA,QAAQ,oBACHF,MAAM,CAACE,QADJ;AAENC,QAAAA,OAAO,EAAE,CACP,GAAGF,cADI,EAEP,GAAGD,MAAM,CAACE,QAAP,CAAgBC,OAFZ;AAFH;AAHV;AAWD,GAZD,MAaI;AACF,6BACKJ,KADL;AAEES,MAAAA,SAAS,EAAE,KAFb;AAGEN,MAAAA,QAAQ,oBACHF,MAAM,CAACE,QADJ;AAENC,QAAAA,OAAO,EAAE,CACP,GAAGH,MAAM,CAACE,QAAP,CAAgBC,OADZ;AAFH;AAHV;AAUD;AAEF,CAlCD;;AAsCA,MAAMM,qBAAqB,GAAG,CAACV,KAAD,EAAQC,MAAR,KAAmB;AAC/C;AACA;AACA;AAGE,2BACKD,KADL;AAEES,IAAAA,SAAS,EAAE,KAFb;AAGEN,IAAAA,QAAQ,oBACHF,MAAM,CAACE,QADJ;AAENC,MAAAA,OAAO,EAAE,CACP,GAAGH,MAAM,CAACE,QAAP,CAAgBC,OADZ;AAFH;AAHV;AAYH,CAlBD,C,CAsBA;;;AACA,MAAMO,mBAAmB,GAAGlB,eAAe,CAAC;AAC1CmB,EAAAA,UAAU,EAAEd,iBAD8B;AAE1Ce,EAAAA,SAAS,EAAElB,kBAAkB,CAACE,eAAe,CAACiB,cAAjB,EAAiC;AAC5D,eAAIjB,eAAe,CAACiB,cAApB,gBAA+Cf;AADa,GAAjC,CAFa;AAK1CgB,EAAAA,WAAW,EAAEpB,kBAAkB,CAACE,eAAe,CAACmB,aAAjB,EAAgC;AAC7D,eAAInB,eAAe,CAACmB,aAApB,gBAA8CjB;AADe,GAAhC,CALW;AAQ1CkB,EAAAA,YAAY,EAAEtB,kBAAkB,CAACE,eAAe,CAACqB,iBAAjB,CARU;AAU1CC,EAAAA,UAAU,EAAExB,kBAAkB,CAACE,eAAe,CAACuB,iBAAjB,EAAoC;AAChE,eAAIvB,eAAe,CAACuB,iBAApB,gBAAkDV;AADc,GAApC;AAVY,CAAD,CAA3C;AAeA,eAAeC,mBAAf","sourcesContent":["import {combineReducers} from 'redux';\nimport { createReducer, createAsyncReducer } from '../common/redux.helpers';\nimport { keys as movieActionKeys } from './movie-browser.actions';\nimport movieModalReducer from './movie-modal/movie-modal.reducer';\n\n// This will create a new state with both the existing \n// movies and new pages of movies\nconst moviesSuccessReducer = (state, action) => {\n  const existingMovies = state.response ? state.response.results : [];\n  const sortStatus = state.response ? state.response.Sort : [];\n  // Create a new state object to be returned\n  // When creating the new state, be sure to include any\n  // existing properties we want to persist\n  \n  console.log(\"this is resducer\",sortStatus);\n  if(sortStatus == action.response.Sort){\n    return {\n      ...state,\n      isLoading: false,\n      response: {\n        ...action.response,\n        results: [\n          ...existingMovies,\n          ...action.response.results\n        ]\n      }\n    };\n  }\n  else{\n    return {\n      ...state,\n      isLoading: false,\n      response: {\n        ...action.response,\n        results: [\n          ...action.response.results\n        ]\n      }\n    };\n  }\n  \n} \n\n\n\nconst reviewsSuccessReducer = (state, action) => {\n  // Create a new state object to be returned\n  // When creating the new state, be sure to include any\n  // existing properties we want to persist\n  \n  \n    return {\n      ...state,\n      isLoading: false,\n      response: {\n        ...action.response,\n        results: [\n          ...action.response.results\n        ]\n      }\n    };\n  \n  \n} \n\n\n\n// Combines our movie browser related reducers to build our movieBrowser reducer\nconst movieBrowserReducer = combineReducers({\n  movieModal: movieModalReducer,\n  topMovies: createAsyncReducer(movieActionKeys.GET_TOP_MOVIES, {\n    [`${movieActionKeys.GET_TOP_MOVIES}_SUCCESS`]: moviesSuccessReducer\n  }),\n  movieSearch: createAsyncReducer(movieActionKeys.SEARCH_MOVIES, {\n    [`${movieActionKeys.SEARCH_MOVIES}_SUCCESS`]: moviesSuccessReducer\n  }),\n  movieDetails: createAsyncReducer(movieActionKeys.GET_MOVIE_DETAILS),\n\n  topReviews: createAsyncReducer(movieActionKeys.GET_MOVIE_REVIEWS, {\n    [`${movieActionKeys.GET_MOVIE_REVIEWS}_SUCCESS`]: reviewsSuccessReducer\n  }),\n});\n\nexport default movieBrowserReducer;\n\n\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/home/rakshithjk/Desktop/react/pictureperfect/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/rakshithjk/Desktop/react/pictureperfect/src/modules/movie-browser/movie-display/movie-display.container.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport \"./movie-display.container.css\";\nimport * as movieActions from '../movie-browser.actions';\nimport { connect } from 'react-redux';\nimport LoaderComponent from '../../common/loader.component';\nimport ReviewList from './review-display/review-display.container.js';\nimport * as scrollHelpers from '../../common/scroll.helpers';\nimport MovieShows from '../movie-shows/movie-shows.display';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nconst styles = {\n  // Can use functions to dynamically build our CSS\n  dialogContent: backgroundUrl => ({\n    backgroundImage: \"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(\".concat(backgroundUrl, \") \"),\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: '100%',\n    height: '100%',\n    minHeight: 400,\n    color: 'white',\n    padding: 10,\n    flexGrow: 8\n  })\n};\n\nfunction check(moviesResponse) {\n  return !!moviesResponse ? [...moviesResponse.results] : null;\n}\n\nclass MovieDisplay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      sortState: 0\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n\n  handleDropdownChange(e) {\n    if (e.target.value == \"id_asc\") {\n      this.id_asc();\n    }\n\n    if (e.target.value == \"rd_asc\") {\n      this.rd_asc();\n    }\n\n    if (e.target.value == \"tt_asc\") {\n      this.tt_asc();\n    }\n  }\n\n  handleScroll() {\n    //console.log(this);\n    //console.log(this.state);\n    //console.log(this.props);\n    //console.log(this.props.topMovies);\n    //console.log(this.props.topMovies.response)\n    //const {topMovies} = this.props;                                            \n    if (!this.props.topMovies.isLoading) {\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\n\n      if (percentageScrolled > .8) {\n        const nextPage = this.state.currentPage + 1;\n        this.props.getTopMovies(nextPage, this.state.sortState);\n        this.setState({\n          currentPage: nextPage\n        });\n      }\n    }\n  }\n\n  async id_asc() {\n    //alert(\"clicked\");\n    await this.setState({\n      sortState: 1\n    });\n    this.setState({\n      currentPage: 1\n    }); //console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n\n  async rd_asc() {\n    //alert(\"clicked\");\n    await this.setState({\n      sortState: 2\n    });\n    this.setState({\n      currentPage: 1\n    }); //console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n\n  async tt_asc() {\n    //alert(\"clicked\");\n    await this.setState({\n      sortState: 3\n    });\n    this.setState({\n      currentPage: 1\n    }); //console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n\n  render() {\n    //console.log(this.props);\n    const movie = this.props.location.state.movie.movie;\n    const reviews = check(this.props.reviews.response);\n    console.log(\"123\", reviews);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: styles.dialogContent(movie.background_path),\n      className: \"innerMain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"poster\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: movie.poster_path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, movie.title), React.createElement(\"div\", {\n      className: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Rating \", movie.vote_average), React.createElement(\"h2\", {\n      className: \"release\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Release Date \", movie.release_date)), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Summary - \"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, movie.overview)))), React.createElement(\"div\", {\n      className: \"choicebuttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"shows\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \" \", React.createElement(Link, {\n      to: \"/shows\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"SHOWS\")), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/shows\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(MovieShows, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      className: \"addreview\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \" ADD Review\")), React.createElement(\"div\", {\n      className: \"reviewContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \" Filters\"), React.createElement(\"select\", {\n      className: \"select-style\",\n      onChange: this.handleDropdownChange,\n      name: \"Filters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      value: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \" -- Select a filter -- \"), React.createElement(\"option\", {\n      value: \"id_asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Sort by Id ascending\"), React.createElement(\"option\", {\n      value: \"rd_asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Sort by Date ascending\"), React.createElement(\"option\", {\n      value: \"tt_asc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Sort by Rating descending\"))), React.createElement(ReviewList, {\n      reviews: reviews,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default connect( // Map nodes in our state to a properties of our component\nstate => ({\n  reviews: state.movieBrowser.topReviews\n}), // Map action creators to properties of our component\n_objectSpread({}, movieActions))(MovieDisplay);","map":{"version":3,"sources":["/home/rakshithjk/Desktop/react/pictureperfect/src/modules/movie-browser/movie-display/movie-display.container.js"],"names":["React","Component","movieActions","connect","LoaderComponent","ReviewList","scrollHelpers","MovieShows","BrowserRouter","Router","Switch","Route","Link","styles","dialogContent","backgroundUrl","backgroundImage","backgroundRepeat","backgroundSize","height","minHeight","color","padding","flexGrow","check","moviesResponse","results","MovieDisplay","constructor","props","state","currentPage","sortState","handleScroll","bind","handleDropdownChange","componentDidMount","getMovieReviews","location","movie","id","e","target","value","id_asc","rd_asc","tt_asc","topMovies","isLoading","percentageScrolled","getPercentageScrolledDown","window","nextPage","getTopMovies","setState","render","reviews","response","console","log","background_path","poster_path","title","vote_average","release_date","overview","movieBrowser","topReviews"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"./movie-display.container.css\"\nimport * as movieActions from '../movie-browser.actions';\nimport {connect} from 'react-redux';\nimport LoaderComponent from '../../common/loader.component';\nimport ReviewList from './review-display/review-display.container.js'\nimport * as scrollHelpers from '../../common/scroll.helpers'\nimport MovieShows from '../movie-shows/movie-shows.display'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nconst styles = {\n  // Can use functions to dynamically build our CSS\n  dialogContent: (backgroundUrl) => ({\n    backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${backgroundUrl}) `,    \n    backgroundRepeat: 'no-repeat',\n    backgroundSize: '100%',\n    height: '100%',\n    minHeight: 400,\n    color: 'white',\n    padding: 10,\n    flexGrow: 8,\n  }),\n \n}\n\nfunction check (moviesResponse){\n  return !!moviesResponse ? ([\n    ...moviesResponse.results]) : null;\n}\n\nclass MovieDisplay extends Component {\n\n  constructor(props) {\n    super(props); \n    this.state = {\n      currentPage: 1,\n      sortState: 0\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleDropdownChange = this.handleDropdownChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n\n  handleDropdownChange(e) {\n    \n    if(e.target.value == \"id_asc\"){\n      this.id_asc();\n    }\n    if(e.target.value == \"rd_asc\"){\n      this.rd_asc();\n    }\n\n    if(e.target.value == \"tt_asc\"){\n      this.tt_asc();\n    }\n  }\n\n  handleScroll() {\n    //console.log(this);\n    //console.log(this.state);\n    //console.log(this.props);\n    //console.log(this.props.topMovies);\n    //console.log(this.props.topMovies.response)\n    //const {topMovies} = this.props;                                            \n    if (!this.props.topMovies.isLoading) {\n      let percentageScrolled = scrollHelpers.getPercentageScrolledDown(window);\n      if (percentageScrolled > .8) {\n        const nextPage = this.state.currentPage + 1;\n        this.props.getTopMovies(nextPage,this.state.sortState);\n        this.setState({currentPage: nextPage});\n      }\n    }\n  }\n\n  async id_asc() {\n    //alert(\"clicked\");\n    await this.setState({sortState: 1});\n    this.setState({currentPage: 1});\n    //console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n\n\n  async rd_asc() {\n    //alert(\"clicked\");\n    await this.setState({sortState: 2});\n    this.setState({currentPage: 1});\n    //console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n  \n  async tt_asc() {\n    //alert(\"clicked\");\n    await this.setState({sortState: 3});\n    this.setState({currentPage: 1});\n    //console.log(\"whats happening\",this.props.topMovies.response);\n    //setState({results:[]})\n    //alert(this.state.sortState);\n    this.props.getMovieReviews(this.props.location.state.movie.movie.id, this.state.sortState);\n  }\n\n  \n\n    render() {\n      //console.log(this.props);\n      const {movie} = this.props.location.state.movie;\n\n      const reviews = check(this.props.reviews.response);\n      console.log(\"123\",reviews);\n      return (\n        <div>\n        <div >\n            <div style={styles.dialogContent(movie.background_path)} className=\"innerMain\">\n                \n                < div className=\"poster\">\n                  <img  src={movie.poster_path} />\n                </div>\n                       \n                <div className=\"title\">\n                  <h1 className=\"text1\">{movie.title}</h1>\n                  <div className=\"info\">\n                  <h2 className=\"rating\">Rating {movie.vote_average}</h2>\n                  <h2 className=\"release\">Release Date {movie.release_date}</h2>\n                  </div>\n                  <h2>Summary - </h2>\n                  <h3>{movie.overview}</h3>\n                </div>\n\n           \n                \n            </div>\n\n            \n        </div>\n        <div className=\"choicebuttons\">\n          <button className=\"shows\"> <Link to=\"/shows\">SHOWS</Link></button> \n          <Switch>\n            <Route path=\"/shows\">\n              <MovieShows/>\n            </Route>\n          </Switch>\n          <button className=\"addreview\"> ADD Review</button>\n        </div>\n        <div className=\"reviewContainer\">\n\n        <div className=\"filters\">\n                <h3 className=\"text\"> Filters</h3>\n                <select className=\"select-style\" onChange={this.handleDropdownChange} name=\"Filters\">\n                <option disabled selected value> -- Select a filter -- </option>\n                  <option value=\"id_asc\">Sort by Id ascending</option>\n                  <option value=\"rd_asc\">Sort by Date ascending</option>\n                  <option value=\"tt_asc\">Sort by Rating descending</option>\n                </select>\n              </div>\n          \n        <ReviewList reviews = {reviews}/>\n          \n      </div>\n      \n      </div>\n      );\n    }\n  }\n  \n  export default connect(\n    // Map nodes in our state to a properties of our component\n    (state) => ({\n      reviews: state.movieBrowser.topReviews\n      \n    }),\n    // Map action creators to properties of our component\n    { ...movieActions }\n\n  )(MovieDisplay);"]},"metadata":{},"sourceType":"module"}